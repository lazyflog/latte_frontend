lane :release do
      # 5. keychain ì´ˆê¸°í™” ðŸ”‘
      create_keychain(
        name: ENV["KEYCHAIN_NAME"],
        password: ENV["KEYCHAIN_PASSWORD"],
        timeout: 1800,
        default_keychain: true,
        unlock: true,
        lock_when_sleeps: false
      )
    
      app_store_connect_api_key(
        key_id: ENV["APP_STORE_CONNECT_API_KEY_ID"],
        issuer_id: ENV["APP_STORE_CONNECT_API_ISSUER_ID"],
        key_content: ENV["APP_STORE_CONNECT_API_KEY_CONTENT"]
        )
    
      # 6. matchë¥¼ ì‹¤í–‰í•˜ì—¬ ì¸ì¦ì„œ ë° í”„ë¡œíŒŒì¼ ë¶ˆëŸ¬ì˜¤ê¸° âœðŸ¼
      match(
        git_url: "git@github.com:ORGANIZATION/REPOSITORY.git",
        storage_mode: "git",
        type: "appstore",
        readonly: true,
        keychain_name: ENV["KEYCHAIN_NAME"],
        keychain_password: ENV["KEYCHAIN_PASSWORD"]
        )

      # 7. build version increment
      current_build_number = latest_testflight_build_number(
		username: ENV["APPLE_ID"],
		app_identifier: ENV["BUNDLE_ID"]
      )
      increment_build_number(
            build_number: current_build_number + 1
      )
    
      # 8. ë¹Œë“œ ë° ë‚´ë³´ë‚´ê¸° ðŸ—
      gym(
        workspace: ENV["XCWORKSPACE"],
        scheme: ENV["PRODUCTION_SCHEME"],
        configuration: "Release",
        export_options: {
          method: "app-store",
          signingStyle: "manual"
        }
        )
    
      # 9. ì•±ìŠ¤í† ì–´ ì—…ë¡œë“œ ðŸŽ‰
      deliver(
        submit_for_review: true,
        force: true,
        skip_screenshots: true,
        automatic_release: true,
        precheck_include_in_app_purchases: false,
        copyright: "Â© #{Time.now.year} UNPLUG"
      )
    end
    
    # laneì´ ëª¨ë‘ ì™„ë£Œëœ ë’¤ í˜¸ì¶œë¨
    after_all do |lane|
      # 10. ë°°í¬ ê²°ê³¼ ìŠ¬ëž™ ë…¸í‹° ðŸš¨
      slack_after_lane(
        message: "",
        payload: {
          "Version" => lane_context[SharedValues::VERSION_NUMBER],
          "Build number" => lane_context[SharedValues::BUILD_NUMBER],
          "Date" => Time.new.to_s
          }
        )
    end
    
    # ì—ëŸ¬ ë°œìƒ ì‹œ í˜¸ì¶œ ë¨
    error do |lane, exception|
      slack_when_error_occured(
        message: "",
        payload: {
          "Version" => lane_context[SharedValues::VERSION_NUMBER],
          "Build number" => lane_context[SharedValues::BUILD_NUMBER],
          "Date" => Time.new.to_s,
          "Error Info" => exception.message
          }
        )
    end